(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[244],{"5IOR":function(t,e,n){"use strict";n.r(e),n.d(e,"HotKeys",(function(){return O})),n.d(e,"withHotKeys",(function(){return x})),n.d(e,"FocusTrap",(function(){return m})),n.d(e,"HotKeyMapMixin",(function(){return P}));var o=n("17x9"),r=n.n(o),a=n("q1tI"),i=n.n(a),u=n("Y+p1"),c=n.n(u),s=n("i8i4"),h=n.n(s),p=n("Znm+"),l=n.n(p),f=n("GoyQ"),_=n.n(f),d=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},M=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},b=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},K=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},m=function(t){function e(){return d(this,e),K(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return M(e,a.Component),y(e,[{key:"render",value:function(){var t=this.props,e=t.component,n=t.children,o=b(t,["component","children"]);return i.a.createElement(e,v({tabIndex:"-1"},o),n)}}]),e}();function k(t,e){return!c()(t,e)}m.propTypes={onFocus:r.a.func,onBlur:r.a.func,component:r.a.oneOfType([r.a.func,r.a.string]),children:r.a.node},m.defaultProps={component:"div"};var O=function(t){function e(t,n){d(this,e);var o=K(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.onFocus=o.onFocus.bind(o),o.onBlur=o.onBlur.bind(o),o}return M(e,a.Component),y(e,[{key:"getChildContext",value:function(){return{hotKeyParent:this,hotKeyMap:this.__hotKeyMap__}}},{key:"componentWillMount",value:function(){this.updateMap()}},{key:"updateMap",value:function(){var t=this.buildMap();return!c()(t,this.__hotKeyMap__)&&(this.__hotKeyMap__=t,!0)}},{key:"buildMap",value:function(){var t=this.context.hotKeyMap||{},e=this.props.keyMap||{};return v({},t,e)}},{key:"getMap",value:function(){return this.__hotKeyMap__}},{key:"componentDidMount",value:function(){var t=n("imBb");this.__mousetrap__=new t(this.props.attach||h.a.findDOMNode(this)),this.updateHotKeys(!0)}},{key:"componentDidUpdate",value:function(t){this.updateHotKeys(!1,t)}},{key:"componentWillUnmount",value:function(){this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null),this.__mousetrap__&&this.__mousetrap__.reset()}},{key:"updateHotKeys",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props.handlers,o=void 0===n?{}:n,r=e.handlers,a=void 0===r?o:r,i=this.updateMap();(t||i||k(o,a))&&(this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null),this.syncHandlersToMousetrap())}},{key:"syncHandlersToMousetrap",value:function(){var t=this,e=this.props.handlers,n=void 0===e?{}:e,o=this.getMap(),r=[],a=this.__mousetrap__;Object.keys(n).forEach((function(e){var a=n[e];(function(t,e){var n=t[e];return n?Array.isArray(n)?n:[n]:[e]})(o,e).forEach((function(e){var n=void 0;_()(e)&&(n=e.action,e=e.sequence),r.push({callback:function(e,n){if((l()(t.props.focused)?t.props.focused:t.__isFocused__)&&n!==t.__lastChildSequence__)return t.context.hotKeyParent&&t.context.hotKeyParent.childHandledSequence(n),a(e,n)},action:n,sequence:e})}))})),a.reset(),r.forEach((function(t){var e=t.sequence,n=t.callback,o=t.action;return a.bind(e,n,o)}))}},{key:"childHandledSequence",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.__lastChildSequence__=t,this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(t)}},{key:"render",value:function(){var t=this.props,e=(t.keyMap,t.handlers,t.focused,t.attach,t.children),n=b(t,["keyMap","handlers","focused","attach","children"]);return i.a.createElement(m,v({},n,{onFocus:this.onFocus,onBlur:this.onBlur}),e)}},{key:"onFocus",value:function(){var t;this.__isFocused__=!0,this.props.onFocus&&(t=this.props).onFocus.apply(t,arguments)}},{key:"onBlur",value:function(){var t;this.__isFocused__=!1,this.props.onBlur&&(t=this.props).onBlur.apply(t,arguments),this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null)}}]),e}();O.propTypes={keyMap:r.a.object,handlers:r.a.object,focused:r.a.bool,attach:r.a.any,children:r.a.node,onFocus:r.a.func,onBlur:r.a.func},O.childContextTypes={hotKeyParent:r.a.any,hotKeyMap:r.a.object},O.contextTypes={hotKeyParent:r.a.any,hotKeyMap:r.a.object};var x=function(t){return function(e){return function(n){function o(t){d(this,o);var e=K(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t));return e._setRef=e._setRef.bind(e),e.state={handlers:{}},e}return M(o,a.PureComponent),y(o,[{key:"componentDidMount",value:function(){this.setState({handlers:this._ref.hotKeyHandlers})}},{key:"_setRef",value:function(t){this._ref=t}},{key:"render",value:function(){var n=this.state.handlers;return i.a.createElement(O,{component:"document-fragment",keyMap:t,handlers:n},i.a.createElement(e,v({ref:this._setRef},this.props)))}}]),o}()}};function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{contextTypes:{hotKeyMap:r.a.object},childContextTypes:{hotKeyMap:r.a.object},getChildContext:function(){return{hotKeyMap:this.__hotKeyMap__}},componentWillMount:function(){this.updateMap()},updateMap:function(){var t=this.buildMap();return!c()(t,this.__hotKeyMap__)&&(this.__hotKeyMap__=t,!0)},buildMap:function(){var e=this.context.hotKeyMap||{},n=this.props.keyMap||{};return v({},e,t,n)},getMap:function(){return this.__hotKeyMap__}}}},lGOm:function(t,e,n){"use strict";t.exports=n("5IOR")}}]);